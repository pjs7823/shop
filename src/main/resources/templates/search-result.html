<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search Results</title>
    <link href="/main.css" rel="stylesheet">
</head>
<body>

<div th:replace="~{nav.html :: navbar}"></div>

<!-- ê²€ìƒ‰ í¼ -->
<form action="/search/page/1" method="GET">
    <input name="searchText" th:value="${searchText}" style="display: inline" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥">
    <button>ê²€ìƒ‰</button>
</form>

<!-- ê²€ìƒ‰ ê²°ê³¼ ì •ë³´ -->
<p th:text="'ê²€ìƒ‰ì–´: ' + ${searchText}"></p>


<!-- ê²€ìƒ‰ ê²°ê³¼ ëª©ë¡ -->
<div class="card" th:each="i : ${items}">
    <img th:src="${i.imgUrl != null ? i.imgUrl : 'https://placehold.co/300'}" alt="Item Image" style="max-width: 300px;">
    <div>
        <a th:href="@{'/detail/' + ${i.id}}">
            <h4 th:text="${i.title}">ìƒí’ˆ</h4>
        </a>
        <p th:text="${i.price + 'ì›'}">ê°€ê²©</p>
        <a th:href="@{'/edit/' + ${i.id}}">âœï¸</a>
        <span th:onclick="fetch('/item?id=[[${i.id}]]', { method: 'DELETE' })
            .then(r => r.text())
            .then(() => { location.reload(); })">ğŸ—‘ï¸</span>
    </div>
</div>

<!-- í˜ì´ì§€ ë²ˆí˜¸ ë§í¬ -->
<div class="pagination">
    <span th:each="page : ${#numbers.sequence(1, pages)}">
        <a th:href="@{'/search/page/' + ${page} + '?searchText=' + ${searchText}}" th:text="${page}">1</a>
    </span>
</div>

</body>
</html>
